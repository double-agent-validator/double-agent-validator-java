{"version":3,"sources":["webpack:///webpack/bootstrap 064bd42972c1d1c2cc63","webpack:///external \"@angular/core\"","webpack:///./src/validator.service.ts","webpack:///external \"lodash\"","webpack:///./src/definitions-loader.service.ts","webpack:///./src/validator.module.ts","webpack:///./src/form/form-control-validator-builder.service.ts","webpack:///external \"@angular/forms\"","webpack:///external \"@angular/http\"","webpack:///external \"ajv\"","webpack:///./src/form/form-group-builder.service.ts","webpack:///./src/form/index.ts","webpack:///./src/ng2-factory.service.ts","webpack:///./src/remote-loaders/angular2-remote-loader.ts","webpack:///external \"rxjs/add/operator/toPromise\"","webpack:///./src/index.ts"],"names":[],"mappings":"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","file":"double-agent-validator.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 064bd42972c1d1c2cc63","module.exports = require(\"@angular/core\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = 0\n// module chunks = 0","import { Injectable, Optional } from '@angular/core';\nimport { ValidationResult } from './models';\nimport * as ajvNsAndConstructor from 'ajv';\nimport * as _ from 'lodash';\nimport { JsonSchema } from './models/schema/json-schema';\n\n/**\n *\n *\n * @export\n * @class DoubleAgentValidator\n */\n@Injectable()\nexport class DoubleAgentValidator {\n  /**\n   *\n   *\n   * @private\n   * @type {ValidationResult}\n   * @memberOf DoubleAgentValidator\n   */\n  private noErrorResult: ValidationResult = { hasErrors: false, errors: null };\n\n  /**\n   * Creates an instance of DoubleAgentValidator.\n   *\n   * @param {ajvNsAndConstructor.Ajv} _ajv\n   *\n   * @memberOf DoubleAgentValidator\n   */\n  constructor( @Optional() private _ajv: ajvNsAndConstructor.Ajv) {\n  }\n\n  /**\n   *\n   *\n   * @readonly\n   * @type {ajvNsAndConstructor.Ajv}\n   * @memberOf DoubleAgentValidator\n   */\n  get ajv(): ajvNsAndConstructor.Ajv {\n    return this._ajv;\n  }\n\n  /**\n   *\n   *\n   * @param {string} schemaName\n   * @param {*} data\n   * @returns {ValidationResult}\n   *\n   * @memberOf DoubleAgentValidator\n   */\n  validate(schemaName: string, data: any): ValidationResult {\n    let result: boolean = this.ajv.validate(schemaName, data);\n\n    if (result) {\n      return this.noErrorResult;\n    } else {\n      return {\n        hasErrors: true,\n        errors: this.ajv.errors\n      };\n    }\n  }\n\n  getSchema(schemaName: string): JsonSchema {\n    return <JsonSchema>this.ajv.getSchema(schemaName).schema;\n  }\n\n\n  /**\n   *\n   *\n   * @param {JsonSchema} schema\n   * @returns {string[]}\n   *\n   * @memberOf DoubleAgentValidator\n   */\n  getKeywords(schema: JsonSchema): string[] {\n    return _.keys(_.omit(schema, this.defaultKeywords));\n  }\n\n  /**\n  *\n  *\n  * @readonly\n  * @type {string[]}\n  * @memberOf DoubleAgentValidator\n  */\n  get schemasNames(): string[] {\n    return _.map(\n      this.ajv['_schemas'], (schema) => schema['id']\n    ).filter((schema) => {\n      return _.omit(['abc'], schema.id);\n    });\n  }\n\n  // private methods\n  private get defaultKeywords(): string[] {\n    return [\n      'type', 'additionalProperties', 'patternProperties', 'maximum',\n      'minimum', 'multipleOf', 'maxLength', 'minLength', 'pattern',\n      'format', 'maxItems', 'minItems', 'uniqueItems', 'items', 'maxProperties',\n      'minProperties', 'required', 'dependencies', 'properties', '$ref', 'enum',\n      'not', 'anyOf', 'oneOf', 'allOf', 'additionalItems', '$schema', 'id', 'title',\n      'description', 'default'\n    ];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/validator.service.ts","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 2\n// module chunks = 0","\nimport { Injectable } from '@angular/core';\nimport { RemoteLoader } from './models/remote-loader';\nimport * as _ from 'lodash';\nimport * as ajvNsAndConstructor from 'ajv';\n\n/**\n *\n * This class loads a script from an url, parses it and fill an ajv instance with theirs definitions\n * @export\n * @class ValidatorDefinitionsLoader\n */\n@Injectable()\nexport class ValidatorDefinitionsLoader {\n  private _ajv: ajvNsAndConstructor.Ajv = new ajvNsAndConstructor({allErrors: true, v5: true});\n\n  /**\n   *\n   *\n   * @readonly\n   * @type {ajvNsAndConstructor.Ajv}\n   * @memberOf ValidatorDefinitionsLoader\n   */\n  get ajv(): ajvNsAndConstructor.Ajv {\n    return this._ajv;\n  }\n\n  /**\n   * Creates an instance of ValidatorDefinitionsLoader.\n   *\n   * @param {RemoteLoader} remoteLoader\n   *\n   * @memberOf ValidatorDefinitionsLoader\n   */\n  constructor(private remoteLoader: RemoteLoader) {\n  }\n\n  /**\n   *\n   *\n   * @param {Window} window\n   * @param {string} url\n   * @param {string[]} namespaces\n   * @returns {Promise<ajvNsAndConstructor.Ajv>}\n   *\n   * @memberOf ValidatorDefinitionsLoader\n   */\n  load(window: Window, url: string, namespaces: string[]): Promise<ajvNsAndConstructor.Ajv> {\n    return this.remoteLoader.getScript(url).then((scriptContent) => {\n      return this.loadScript(window, scriptContent, namespaces);\n    });\n  }\n\n  private loadScript(window: Window, script: string, schemas: string[]): Promise<ajvNsAndConstructor.Ajv> {\n    return new Promise<ajvNsAndConstructor.Ajv>((resolve, reject) => {\n      try {\n        let loadSchemaCall = (schemas.length === 1)\n          ? `DoubleAgent.JsonSchemaValidator.load(${schemas[0]}, ajv);`\n          : `DoubleAgent.JsonSchemaValidator.loadMultiple([${schemas.join(',')}], ajv);`;\n        window['ajv'] = this.ajv;\n        window['_'] = _;\n        window.document.write(`\n          <script>\n              ${script}\n              ${loadSchemaCall}\n          </script>\n        `);\n        resolve(this.ajv);\n      } catch (e) {\n        reject(e);\n      }\n    });\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/definitions-loader.service.ts","import { Injector, OpaqueToken, NgModule, APP_INITIALIZER } from '@angular/core';\nimport { DoubleAgentValidator } from './validator.service';\nimport { DoubleAgentValidatorNg2Factory } from './ng2-factory.service';\nimport { DoubleAgentFormGroupBuilder, DoubleAgentFormControlValidatorBuilder } from './form';\n\nexport const DOUBLE_AGENT_VALIDATOR_SCHEMA_URL = new OpaqueToken('DoubleAgentValidator.SCHEMA_URL');\nexport const DOUBLE_AGENT_VALIDATOR_SCHEMA_NS = new OpaqueToken('DoubleAgentValidator.SCHEMA_NAMESPACES');\n@NgModule({\n  providers: [\n    DoubleAgentValidator,\n    DoubleAgentValidatorNg2Factory,\n    DoubleAgentFormGroupBuilder,\n    DoubleAgentFormControlValidatorBuilder,\n    {\n      provide: APP_INITIALIZER,\n      useFactory: DoubleAgentValidatorNg2Factory.factoryFn,\n      deps: [\n        Injector,\n        DoubleAgentValidatorNg2Factory,\n        DoubleAgentValidator\n      ]\n    }\n  ],\n  exports: [  ]\n})\nexport class DoubleAgentValidatorModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/validator.module.ts","import { Injectable } from '@angular/core';\nimport { AbstractControl, Validators, ValidatorFn } from '@angular/forms';\nimport { JsonSchema } from '../models/schema/json-schema';\nimport { DoubleAgentValidator } from '../validator.service';\nimport * as _ from 'lodash';\n\n@Injectable()\nexport class DoubleAgentFormControlValidatorBuilder {\n\n  constructor(private doubleAgentValidator: DoubleAgentValidator) {\n  }\n\n  /**\n   * Returns the validator representing some attribute in the schema\n   * which will be used to Angular 2 validates the user input\n   *\n   * @param {string} schemaName\n   * @param {string} fieldName\n   * @returns {ValidatorFn}\n   *\n   * @memberOf FormControlValidatorBuilder\n   */\n  build(schema: JsonSchema, property: string): ValidatorFn {\n    let validators: ValidatorFn[] = [];\n    console.log('SCHEMA and property', schema, property);\n    if (schema.required && schema.required.indexOf(property) >= 0) {\n      console.log('Required validator found', property);\n      validators.push(Validators.required);\n    }\n    validators.push(this.buildAngularValidator(schema.id, property));\n    return Validators.compose(validators);\n  }\n\n  /**\n   * This creates a Angular validator corresponding a json schema and optionally\n   * only for a given property\n   *\n   * @param {string} schema\n   * @param {string} property\n   * @returns {ValidatorFn}\n   *\n   * @memberOf ValidacaoService\n   */\n  buildAngularValidator(schemaName: string, propertyOrFormData?: string | {}): ValidatorFn {\n    return (control: AbstractControl) => {\n      let validationResult = {\n        jsonSchema: null\n      };\n\n\n      // builds the data which will be validated\n      let data = {};\n      if (_.isString(propertyOrFormData)) {\n        data[propertyOrFormData] = control.value;\n      } else {\n        data = propertyOrFormData;\n      }\n\n      console.log('Validating data', data);\n\n      // runs the validation\n      let result = this.doubleAgentValidator.validate(schemaName, data);\n\n      if (result.hasErrors) {\n        // if a specific property was provided, then only returns error refering that property\n        if (_.isString(propertyOrFormData)) {\n          let errorsOfProperty = result.errors.filter((error) => {\n            return error.dataPath.match(`\\.${propertyOrFormData}`);\n          });\n          if (errorsOfProperty.length > 0) {\n            validationResult.jsonSchema = {\n              errors: errorsOfProperty\n            };\n            return validationResult;\n          }\n        } else {\n          // if no specific property was passed, so return all errors found\n          validationResult.jsonSchema = {\n            errors: result.errors\n          };\n          return validationResult;\n        }\n      } else {\n        // retorna null no caso de não ter erros de validacao\n        return null;\n\n      }\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/form-control-validator-builder.service.ts","module.exports = require(\"@angular/forms\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/forms\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"@angular/http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/http\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"ajv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ajv\"\n// module id = 8\n// module chunks = 0","import { Injectable } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, AbstractControl, ValidatorFn } from '@angular/forms';\nimport { DoubleAgentValidator } from '../validator.service';\nimport { JsonSchema } from '../models/schema/json-schema';\nimport * as _ from 'lodash';\nimport { DoubleAgentFormControlValidatorBuilder } from './form-control-validator-builder.service';\n\n/**\n * This class allows creates a formGroup which contains all the fields represented in an given schema\n * each one containing it's own angular validators\n * @export\n * @class DoubleAgentFormGroupBuilder\n */\n@Injectable()\nexport class DoubleAgentFormGroupBuilder {\n\n  /**\n   * Creates an instance of FormGroupBuilder.\n   *\n   * @param {DoubleAgentValidator} doubleAgentValidator\n   * @param {FormBuilder} formBuilder\n   *\n   * @memberOf FormGroupBuilder\n   */\n  constructor(\n    private doubleAgentValidator: DoubleAgentValidator,\n    private formControlValidatorBuilder: DoubleAgentFormControlValidatorBuilder,\n    private formBuilder: FormBuilder\n  ) { }\n\n\n  /**\n   * Builds a FormGroup containing all the attributes defined in the jsonSchema\n   *\n   * @param {string} schemaName\n   * @returns {FormGroup}\n   *\n   * @memberOf FormGroupBuilder\n   */\n  build(schemaName: string): FormGroup {\n\n    // TODO validar se o esquema existe e retornar erro apropriado\n    let jsonSchema: JsonSchema = this.doubleAgentValidator.getSchema(schemaName);\n    let formGroup: FormGroup;\n    let formGroupConfig = {};\n\n    // percorre os atributos definidos no jsonSchema, adicionando um FormControl com os respectivos\n    // validadores para cada campo no objeto formGroupConfig\n    _.each(jsonSchema.properties, (attribute, attributeName) => {\n      // TODO get state value from property default\n      formGroupConfig[attributeName] = new FormControl('', this.formControlValidatorBuilder.build(jsonSchema, attributeName));\n    });\n\n\n    console.log('formGroupConfig', formGroupConfig);\n    // cria uma instância do FormGroup a partir da configuração construída\n    formGroup = this.formBuilder.group(formGroupConfig);\n\n    console.log('formGroup', formGroup);\n\n    // construir validador do FormGroup (keywords do objeto)\n    this.addKeywordsValidator(jsonSchema, formGroup);\n\n\n    // retorna o Form Group\n    return formGroup;\n  }\n\n  private addKeywordsValidator(schema: JsonSchema, formGroup: FormGroup) {\n    let keywords = this.doubleAgentValidator.getKeywords(schema);\n\n    let validator = this.buildAngularFormGroupValidator(schema.id, keywords, formGroup);\n\n    formGroup.setValidators([validator]);\n  }\n\n  buildAngularFormGroupValidator(schemaName: string, keywords: string[], formGroup: FormGroup): ValidatorFn {\n    return (control: AbstractControl) => {\n      let validationResult = {\n        jsonSchema: null\n      };\n\n\n      let data = formGroup.value;\n      console.log('Validating data', data);\n\n      // runs the validation\n      let result = this.doubleAgentValidator.validate(schemaName, data);\n\n      if (result.hasErrors) {\n        let errorsOfKeyword = result.errors.filter((error) => {\n          return _.includes(keywords, error.keyword);\n        });\n        if (errorsOfKeyword.length > 0) {\n          validationResult.jsonSchema = {\n            errors: errorsOfKeyword\n          };\n          return validationResult;\n        }\n      }\n      // retorna null no caso de não ter erros de validacao\n      return null;\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/form-group-builder.service.ts","export * from './form-control-validator-builder.service';\nexport * from './form-group-builder.service';\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/index.ts","import { Http } from '@angular/http';\nimport { DoubleAgentValidator } from './validator.service';\nimport { Angular2RemoteLoader } from './remote-loaders/angular2-remote-loader';\nimport { ValidatorDefinitionsLoader } from './definitions-loader.service';\nimport { Injectable, Injector } from '@angular/core';\nimport * as ajvNsAndConstructor from 'ajv';\nimport { DOUBLE_AGENT_VALIDATOR_SCHEMA_URL, DOUBLE_AGENT_VALIDATOR_SCHEMA_NS } from './validator.module';\n\n/**\n *\n * This classs provide a facility to load json schema definitions into a DoubleAgentValidator instance and provide it\n * to Angular Dependency Injection\n * @export\n * @class DoubleAgentValidatorNg2Factory\n */\n\n@Injectable()\nexport class DoubleAgentValidatorNg2Factory {\n\n  /**\n   * This static function is utilized as a provider Factory to builds the DoubleAgentValidator\n   * instance filled with json schemas from an given url into the Angular2  dependency injection\n   *\n   * @static\n   * @param {Injector} injector\n   * @param {DoubleAgentValidatorNg2Factory} factory\n   * @returns {Promise<void>}\n   *\n   * @memberOf DoubleAgentValidatorNg2Factory\n   */\n  static factoryFn(injector: Injector, factory: DoubleAgentValidatorNg2Factory): Promise<void>  {\n        let url: string = injector.get(DOUBLE_AGENT_VALIDATOR_SCHEMA_URL);\n        let namespaces: string[] = injector.get(DOUBLE_AGENT_VALIDATOR_SCHEMA_NS);\n        return new Promise<void>((resolve, reject) => {\n          console.log('VALUES', url, namespaces);\n          let errors = null;\n          if (url == null) {\n            errors = 'DoubleAgentValidator Module needs an url provided through the DOUBLE_AGENT_VALIDATOR_SCHEMA_URL token';\n          }\n          if (namespaces == null) {\n            errors = `${errors ? errors : ''} DoubleAgentValidator Module needs the\n             namespaces provided through the DOUBLE_AGENT_VALIDATOR_SCHEMA_NS token`;\n          }\n          if (errors) {\n            reject(errors);\n          }\n          return factory.load(url, namespaces);\n        });\n  }\n\n  /**\n   * Creates an instance of DoubleAgentValidatorNg2Factory.\n   *\n   * @param {Http} http\n   * @param {DoubleAgentValidator} doubleAgentValidator\n   *\n   * @memberOf DoubleAgentValidatorNg2Factory\n   */\n  constructor(private http: Http, private doubleAgentValidator: DoubleAgentValidator) {\n  }\n\n  /**\n   * Loads a script from a url, parses it and load into the ajv object.\n   * At this moment is using a iframe to isolate the parse/evaluate of the code.\n   * Maybe it would useful have a strategy loading using web worker\n   * @param {string} url\n   * @param {string[]} namespaces\n   * @returns {Promise<void>}\n   *\n   * @memberOf DoubleAgentValidatorNg2Factory\n   */\n  load(url: string, namespaces: string[]): Promise<void> {\n    let remoteLoader = new Angular2RemoteLoader(this.http);\n    let validationsLoader = new ValidatorDefinitionsLoader(remoteLoader);\n    let iframe = document.createElement('iframe');\n    iframe.id = 'DoubleAgentValidator';\n    iframe.border = '0';\n    iframe.src = 'about:blank';\n    iframe.style.background = 'transparent';\n    iframe.style.width = '1px';\n    iframe.style.height = '1px';\n    (<any>iframe).sandbox = 'allow-scripts allow-same-origin';\n    document.body.appendChild(iframe);\n    let window = iframe.contentWindow;\n    return new Promise<void>((resolve, reject) => {\n      validationsLoader.load(window, url, namespaces).then((ajv: ajvNsAndConstructor.Ajv) => {\n        this.doubleAgentValidator['_ajv'] = ajv;\n        window['DoubleAgentValidator'] = this.doubleAgentValidator;\n        resolve(null);\n      },\n        (e) => {\n          reject('coudl not create the DoubleAgentValidator instance: ' + e);\n        });\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ng2-factory.service.ts","import { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { RemoteLoader } from '../models/remote-loader';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class Angular2RemoteLoader implements RemoteLoader {\n  constructor(private http: Http) { }\n\n  getScript(url: string) {\n    return new Promise((resolve, reject) => {\n      let observable: Observable<Response> = this.http.get(url);\n      observable.subscribe((response: Response) => {\n        resolve(response.text());\n      },\n      (error) => { /* error handling block*/\n          reject(error);\n      });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/remote-loaders/angular2-remote-loader.ts","module.exports = require(\"rxjs/add/operator/toPromise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/add/operator/toPromise\"\n// module id = 13\n// module chunks = 0","export * from './validator.service';\nexport * from './definitions-loader.service';\nexport * from './validator.module';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}